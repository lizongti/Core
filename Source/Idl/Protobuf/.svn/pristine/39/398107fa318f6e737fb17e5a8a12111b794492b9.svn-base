import "Common.proto";
import "Player.proto";
import "Contest.proto";
import "Slots.proto";
import "GameInfo.proto";

message SlotsGame_Enter_Request
{
	optional Header header = 1;
	optional int32 table_id = 2;
	required int64 game_type = 3; //游戏类型
	optional int32 is_fever_quest = 4; //是否是从fever_quest进入
}

message SlotsGame_Enter_Response
{
	optional Header header = 1;
	required Return ret = 2;
	optional Player player = 3;
	optional string bonus_info = 4;//bonus_type:类型,content:内容
	optional GameInfo game_info = 5;
	optional string last_formation_list = 6;
	optional string game_status_list = 7;//当前玩法状态列表[{status_id(状态ID)，win_chip(赢得的金额),total_process(状态总进度)，process(状态当前进度)}]
}

message SlotsGame_Bonus_Request
{
	optional Header header = 1;
	required int64 game_type = 2;//游戏类型
	required string command_name = 3;
	optional string parameter = 4;
}

message SlotsGame_Bonus_Response
{
	optional Header header = 1;
	required Return ret = 2;
	required int64 game_type = 3;//游戏类型
	required string command_name = 4;
	optional string content = 5;
}

message SlotsGame_Start_Request
{
	optional Header header = 1;
	optional int64 amount = 2;
	optional int64 formation_type = 3;//阵型类型
	optional int64 bet_amount_id = 4;// bet_amount配置文件的索引
}

message SlotsGame_Spin_Info//一次Spin信息
{
	optional string item_ids = 1;//转得到的元素列表(二维数组，以列为一单元）
	repeated Slots_PrizeItem prize_items = 2;//连线
	optional int64 win_chip = 3;//赢的chips
    optional string pre_action_list = 4;//结算前变化序列,json数组（变化类型，源格子位置，目标格子位置，元素id，数值）
	optional string action_list = 5;//结算后变化序列,json数组（变化类型，源格子位置，目标格子位置，元素id，数值）
	optional string final_item_ids = 6;//所有特性变化后的元素列表
	optional string reel_ways_info = 7;//reel ways连线方式的相关信息:总线数，中奖位置
	optional int64 ways_type = 8;//连线方式，默认为传统连线，1为reel ways连线
	optional int64 slots_win_chip = 9;//连线赢的chips
}

message SlotsGame_Formation
{
	repeated SlotsGame_Spin_Info slots_spin_list = 1;//spin列表
	optional int32 id = 2;//阵型名字
}

message SlotsGame_Start_Response
{
	optional Header header = 1;
	required Return ret = 2;
	repeated SlotsGame_Formation formation_list = 3;//阵型列表
	optional GameInfo game_info = 4;//玩家信息
	optional int64 is_multiply = 5;//大于0表示是否大奖倍增,-1表示首付促销
	optional int64 is_free_spin = 6;//是否是free spin
	optional int64 multiply_value = 7;//大奖倍增数值
	optional Player player = 8;
	optional string game_status_list = 9;//当前玩法状态列表[{status_id(状态ID)，total_win_chip(赢得的金额), base_win_chip(连线赢的金额), total_process(状态总进度)，process(状态当前进度)}]
	optional string lucky_info = 10;//幸运模式
}

message SlotsGame_Wild_Request
{
	optional Header header = 1;
	optional int32 pos = 2;
}

message SlotsGame_Wild_Response
{
	optional Header header = 1;
	required Return ret = 2;
}

message SlotsGame_Exit_Request
{
	optional Header header = 1;
}

message SlotsGame_Exit_Response
{
	optional Header header = 1;
	required Return ret = 2;
	optional Player player = 3;
}

message SlotsGame_TableSync_Notice
{
	optional Header header = 1;
	optional Table table = 2;
}