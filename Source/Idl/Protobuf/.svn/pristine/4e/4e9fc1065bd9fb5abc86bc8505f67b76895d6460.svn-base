import "Common.proto";
import "Player.proto";

message FeverQuestRank
{
    optional int32 rank = 1; //排名
    optional string nickname = 2; //玩家昵称
    optional int32 avatar = 3; //头像
    optional int32 facebook_id = 4; //facebook id
    optional int32 star = 5; //星星数量
    optional int64 prize_chip = 6; //本季度可以领取的chip
}

message FeverQuestRankInfoHistory
{
    optional int32 season = 1;
    optional int32 tier_type = 2; //等级 - novice...
    optional int32 rank = 3; //排名
}

message FeverQuestTaskProgressItem
{
    optional int32 mission_type = 1; // QuestFeverMissionConfig中的任务类型
    optional int32 mission_progress = 2; // 任务进度
    optional int32 mission_target = 3; // 任务目标
}

message FeverQuestRankInfo
{
    optional int32 tier_type = 1; //当前等级 - novice...
    optional int32 rank = 2; //当前排名
    optional int32 star = 3; //星星
    repeated FeverQuestRankInfoHistory historys = 4; //历史记录
}

message FeverQuest_GetQuestInfo_Request
{
    optional Header header = 1;
}

message FeverQuest_GetQuestInfo_Response
{
    optional Header header = 1;
    required Return ret = 2;
    optional int32 season = 3; //季度
    optional int32 task_id = 4; //当前的进度
    optional int32 hard_level = 5; //当前难度
    optional FeverQuestRankInfo rank_info = 6; //排名信息
    optional int32 star = 7; //星星
    optional int32 is_boost = 8; //是否加速
    repeated FeverQuestTaskProgressItem progresses = 9; //当前任务进度
    optional int32 task_fetch_level = 10; //任务领取时玩家等级
    optional int32 left_time = 11; //本季度剩余时间
    optional int32 boost_left_time = 12; //加速剩余时间
}

message FeverQuest_SetQuestHardLevel_Request
{
    optional Header header = 1;
    optional int32 hard_level = 2;
}

message FeverQuest_SetQuestHardLevel_Response
{
    optional Header header = 1;
    optional int32 hard_level = 2;
}

message FeverQuest_UpdateQuestProgress_Notice
{
    optional Header header = 1;
    optional int32 task_id = 2;
    repeated FeverQuestTaskProgressItem progresses = 3;
}

// 季度结束通知
message FeverQuest_SeasonEnd_Notice
{
    optional Header header = 1;
    optional int32 season_id = 2;
}

message FeverQuest_FinishQuest_Notice
{
    optional Header header = 1;
    optional int32 task_id = 2;
    optional Player player = 3;
    optional int32 star = 4;
    optional int64 win_chip = 5;
    optional int32 is_finish = 6;
}

message FeverQuest_GetRankInfo_Request
{
    optional Header header = 1;
    optional int32 start_index = 2; //开始，最小值为0
    optional int32 end_index = 3; //结束，-1表示最大值
}

message FeverQuest_GetRankInfo_Response
{
    optional Header header = 1;
    repeated FeverQuestRank ranks = 2; //排行榜信息
    optional int32 start_index = 3; //开始，最小值为0
    optional int32 end_index = 4; //结束
    optional int64 pool_value = 5; //奖池
    optional FeverQuestRankInfo rank_info = 6; //我的排名
    optional int64 left_time = 7; //剩余时间
    optional int32 tier_type = 8; //等级
}



