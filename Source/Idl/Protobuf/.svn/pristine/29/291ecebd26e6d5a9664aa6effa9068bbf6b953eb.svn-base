import "Common.proto";
import "TournamentBase.proto";
import "Player.proto";

//***********************************************************//
//**********************与客户端交互*************************//
//请求比赛配置信息(可一次请求多个游戏)
message Tournament_GetConfig_Request
{
    optional Header         header              = 1;//头部信息

    repeated int64          module_id_arr       = 2;//需要获取的游戏id数组
}
//回复比赛配置信息
message Tournament_GetConfig_Response
{
    optional Header         header              = 1;//头部信息
    optional Return         ret                 = 2;//请求结果
    
    repeated MatchConfig    match_config_arr    = 3;//比赛的配置数组
}


//请求玩家排名信息（仅支持请求单个游戏）
message Tournament_GetPlayerRank_Request
{
    optional Header         header      = 1;//头部信息

    optional int64          module_id   = 2;//需要获取的游戏id
}
//回复玩家排名信息
message Tournament_GetPlayerRank_Response
{
    optional Header         header              = 1;//头部信息
    optional Return         ret                 = 2;//请求结果

    optional int64          module_id           = 3;//需要获取的游戏id
    optional int64          have_match          = 4;//是否有比赛
    optional int64          in_ranking          = 5;//是否正在比赛排名竞赛阶段（true：排名竞赛中 false：休息中）
    optional int64          left_time           = 6;//剩余时间（排名竞赛中时，为开奖等待时间；休息中时，为下次比赛的开始等待时间）
    optional int64          prize_chips_in_pool = 7;//奖池中的奖励筹码数
    optional int64          game_player_num     = 8;//游戏所有的玩家数
    repeated PlayerRankInfo top3_player_arr     = 9;//前三名的玩家数组（不一定有足够3条数据）
    repeated PlayerRankInfo near3_player_arr    = 10;//和自己排名相近的玩家数组（不一定有足够3条数据）
}

//通知玩家的得奖信息（仅得奖玩家会收到）【服务器主动推送】
message  Tournament_GetPrize_Notice
{
    optional Header         header          = 1;//头部信息

    optional int64          module_id       = 2;//获奖的游戏id
    optional MtachPrizeInfo prize_info      = 3;//获奖信息
}

//请求玩家中奖信息获取（未中奖的客户端主动请求）
message Tournament_GetPrize_Request
{
    optional Header         header          = 1;//头部信息

    optional int64          module_id       = 2;//获奖的游戏id
}
//响应玩家中奖信息
message Tournament_GetPrize_Response
{
    optional Header         header          = 1;//头部信息
    optional Return         ret             = 2;//推送处理结果
    optional int64          module_id       = 3;//获奖的游戏id
    optional int64          have_match      = 4;//是否有比赛
    optional int64          in_ranking      = 5;//是否正在比赛排名竞赛阶段（true：排名竞赛中 false：休息中）
    optional int64          left_time       = 6;//剩余时间（排名竞赛中时，为开奖等待时间；休息中时，为下次比赛的开始等待时间）
    optional int64          have_prize      = 7;//是否有获奖信息
    optional int64          had_received    = 8;//是否已经领取过
    optional MtachPrizeInfo prize_info      = 9;//获奖信息
    optional Player         prize_player    = 10;//玩家获奖后的更新信息（仅包含筹码信息）
    optional int64          curr_rank       = 11;//玩家当前排名
    optional int64          curr_win_scores = 12;//玩家当前赢得分数（根据赢得筹码进行换算以后的值）
}
//***********************************************************//
//***********************************************************//